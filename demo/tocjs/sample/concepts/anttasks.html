
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="copyright" content="(C) Copyright 2005">
<meta name="DC.rights.owner" content="(C) Copyright 2005">
<meta name="security" content="public">
<meta name="Robots" content="index,follow">
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta name="DC.Type" content="concept">
<meta name="DC.Title" content="Ant tasks">
<meta name="DC.Relation" scheme="URI" content="basefiles.html">
<meta name="DC.Relation" scheme="URI" content="buildsample.html">
<meta name="DC.Format" content="XHTML">
<meta name="DC.Identifier" content="tocjs_ant">
<meta name="DC.Language" content="en-us">
<link rel="stylesheet" type="text/css" href="../basefiles/sophos.css"><title>Ant tasks</title>
</head>
<body id="tocjs_ant"><a name="tocjs_ant"><!-- --></a>


 <h1 class="topictitle1">Ant tasks</h1>

 <div>
  <div class="p">The tocjs extension is meant to work with a project that generates HTML. For instance, assume you have an existing ant task:
   <pre>
&lt;target name="myproj2html" depends="use-init"&gt;
 &lt;antcall target="dita2xhtml"&gt;
  &lt;param name="args.input"
   value="projects${file.separator}myproject${file.separator}GettingStartedGuide.ditamap"/&gt;
  &lt;param name="output.dir" value="output${file.separator}myproject"/&gt;
  &lt;param name="args.css" value="testvalue.css"/&gt;
 &lt;/antcall&gt;
&lt;/target&gt;    
   </pre>

To create tocjs JavaScript output and copy related topics into place, you could create the following
  ant target.
  <pre>
&lt;target name="myproj2tocjs" description="Generate tocjs javascript file"&gt;
 &lt;antcall target="dita2tocjs"&gt;
  &lt;param name="transtype" value="tocjs"/&gt;
  &lt;param name="args.input"
   value="projects${file.separator}myproject${file.separator}GettingStartedGuide.ditamap"/&gt;
  &lt;param name="output.file"
   value="output${file.separator}myproject${file.separator}myproject${file.separator}toctree.js"/&gt;
 &lt;/antcall&gt;
 &lt;copy todir="output${file.separator}myproject${file.separator}myproject"&gt;
   &lt;fileset dir="${dita.dir}${file.separator}demo${file.separator}tocjs${file.separator}basefiles"&gt;
   &lt;include name="**/*"/&gt;&lt;/fileset&gt;
 &lt;/copy&gt;
&lt;/target&gt;   
  </pre>

  The above task generates tocjs output and copies the related files from the tocjs
   <span class="filepath">basefiles</span> directory. You will also need to maitan and copy into place a
   <pre>
&lt;concept id="tocjs_basefiles" xml:lang="en-us"&gt;
 &lt;title&gt;The &lt;filepath&gt;basefiles&lt;/filepath&gt; directories&lt;/title&gt;
 &lt;conbody&gt;
  &lt;p&gt;More sample docs go here.
   &lt;menucascade&gt;
    &lt;uicontrol&gt;foo&lt;/uicontrol&gt;
    &lt;uicontrol&gt;fnord&lt;/uicontrol&gt;
   &lt;/menucascade&gt;
  &lt;/p&gt;
  
 &lt;/conbody&gt;
&lt;/concept&gt;    
    
   </pre>

   frameset file. For an exaple of how this is done, take a look at the ant tasks in
   <span class="filepath">demo/tocjs/buildsample.xml</span> and the related <span class="filepath">basefiles</span>
   directories</div>

  <div class="tip"><span class="tiptitle">Tip:</span> For more examples of working ant tasks, check the
   <span class="filepath">buildsample.xml</span>file in the <span class="filepath">demo/tocjs</span> directory.</div>

 </div>

 <div><div class="relinfo"><strong>Related information</strong><br>
<div><a href="basefiles.html">basefiles.html</a></div>
<div><a href="buildsample.html">buildsample.html</a></div>
</div>
</div>

</body>
</html>